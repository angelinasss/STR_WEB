{% extends "app/layout.html" %}

{% block content %}
{% load static %}

<head>
    <link rel="stylesheet" href="{% static 'app/content/vacancies.css' %}">
</head>

<body>
    <div class="container-box">
        <h1>{{ title }}</h1>

        <form action="create_job/" method="get">
            {% csrf_token %}
            {% if user.is_superuser %}
            <button type="submit" class="positive-button">
                Add Vacancy
            </button>
            {% endif %}
        </form>

        <div class="job-list">
            {% for job in jobs %}
            <div class="job-card">
                <h4>{{ job.title }}</h4>
                <p><strong>Description:</strong> {{ job.description }}</p>
                <p><strong>Requirements:</strong> {{ job.requirements }}</p>
                <p><strong>Salary:</strong> {{ job.salary }}</p>

                {% if user.is_superuser %}
                <div class="job-actions">
                    <a href="edit_job/{{ job.id }}">
                        Edit
                    </a>
                    <a href="delete_job/{{ job.id }}" class="delete" onclick="return confirm('Are you sure you want to delete this vacancy?');">
                        Delete
                    </a>
                </div>
                {% endif %}
            </div>

            {% if not forloop.last %}
            <div class="job-divider"></div>
            {% endif %}
            {% endfor %}
        </div>
    </div>
</body>
{% endblock %}