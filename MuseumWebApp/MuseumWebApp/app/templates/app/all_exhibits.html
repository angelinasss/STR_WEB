{% extends "app/layout.html" %}

{% block content %}
{% load static %}

<head>
    <link rel="stylesheet" href="{% static 'app/content/all_exhibits.css' %}">
</head>

<body>
    <div class="container-box">
        <h1>{{ title }}</h1>

        <div class="exhibits-form">
            <form method="GET" action="{% url 'all_exhibits' %}">
                <label for="sort_by">Sort by:</label>
                <select id="sort_by" name="sort_by">
                    <option value="name_asc" {% if sort_by == 'name_asc' %}selected{% endif %}>Name (A-Z)</option>
                    <option value="name_desc" {% if sort_by == 'name_desc' %}selected{% endif %}>Name (Z-A)</option>
                    <option value="date_asc" {% if sort_by == 'date_asc' %}selected{% endif %}>Date Acquired (Old to New)</option>
                    <option value="date_desc" {% if sort_by == 'date_desc' %}selected{% endif %}>Date Acquired (New to Old)</option>
                    <option value="hall_asc" {% if sort_by == 'hall_asc' %}selected{% endif %}>Hall (A-Z)</option>
                    <option value="hall_desc" {% if sort_by == 'hall_desc' %}selected{% endif %}>Hall (Z-A)</option>
                </select>
                <button type="submit" class="positive-button">Sort</button>
            </form>
        </div>

        {% if exhibits %}
            <div class="exhibit-list">
                {% for exhibit in exhibits %}
                <div class="exhibit-card">
                    {% if exhibit.image %}
                    <img src="{{ exhibit.image.url }}" alt="{{ exhibit.name }}">
                    {% else %}
                    <img src="/static/images/default_exhibit.jpg" alt="{{ exhibit.name }}">
                    {% endif %}

                    <h4>{{ exhibit.name }}</h4>
                    <p><strong>Art Type:</strong> {{ exhibit.art_type }}</p>
                    <p><strong>Hall:</strong> {{ exhibit.hall }}</p>
                    <p><strong>Date Acquired:</strong> {{ exhibit.date_acquired }}</p>
                    <p><strong>Caretaker:</strong> {{ exhibit.caretaker }}</p>
                </div>
                {% endfor %}
            </div>
        {% else %}
        <p class="message">No exhibits found.</p>
        {% endif %}
    </div>
</body>
{% endblock %}