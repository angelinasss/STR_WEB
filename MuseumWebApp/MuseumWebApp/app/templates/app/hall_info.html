{% extends "app/layout.html" %}

{% block content %}
{% load static %}

<head>
    <link rel="stylesheet" href="{% static 'app/content/hall_info.css' %}">
</head>

<body>
    <div class="container-box">
        <h1>{{ title }}</h1>

        <div class="hall-info-form">
            <form method="GET" action="{% url 'hall_info' %}">
                <label for="sort_by">Sort by:</label>
                <select id="sort_by" name="sort_by">
                    <option value="name_asc" {% if sort_by == 'name_asc' %}selected{% endif %}>Name (A-Z)</option>
                    <option value="name_desc" {% if sort_by == 'name_desc' %}selected{% endif %}>Name (Z-A)</option>
                    <option value="number_asc" {% if sort_by == 'number_asc' %}selected{% endif %}>Number (Ascending)</option>
                    <option value="number_desc" {% if sort_by == 'number_desc' %}selected{% endif %}>Number (Descending)</option>
                    <option value="area_asc" {% if sort_by == 'area_asc' %}selected{% endif %}>Area (Low to High)</option>
                    <option value="area_desc" {% if sort_by == 'area_desc' %}selected{% endif %}>Area (High to Low)</option>
                    <option value="floor_asc" {% if sort_by == 'floor_asc' %}selected{% endif %}>Floor (Ascending)</option>
                    <option value="floor_desc" {% if sort_by == 'floor_desc' %}selected{% endif %}>Floor (Descending)</option>
                </select>
                <button type="submit" class="positive-button">Sort</button>
            </form>
        </div>

        {% if user.is_superuser %}
        <div class="create_button">
            <a href="{% url 'create_hall' %}" class="positive-button">Create A Hall</a>
        </div>
        {% endif %}

        <div class="hall-list">
            {% for hall in halls %}
            <div class="hall-card">
                <h4><a href="{% url 'hall_detail' hall.id %}">{{ hall.name }}</a></h4>
                <p><strong>Number:</strong> {{ hall.number }}</p>
                <p><strong>Floor:</strong> {{ hall.floor }}</p>
                <p><strong>Area:</strong> {{ hall.area }} sq. m</p>
                {% if user.is_superuser %}
                <div class="buttons-top">
                    <a href="{% url 'edit_hall' hall.id %}" class="positive-button edit-button">Edit</a>
                    <a href="{% url 'delete_hall' hall.id %}" onclick="return confirm('Are you sure you want to delete this hall?');" class="positive-button">Delete</a>
                </div>
                {% endif %}
            </div>
            {% endfor %}
        </div>
    </div>
</body>
{% endblock %}