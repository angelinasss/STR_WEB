{% extends "app/layout.html" %}

{% block content %}
{% load static %}

<head>
    <link rel="stylesheet" href="{% static 'app/content/promocodes.css' %}">
</head>

<body>
    <div class="container-box">
        <h1>{{ title }}</h1>

        {% if user.is_superuser %}
        <p>
            <a href="create_promo_code/" class="positive-button">Create New Promo Code</a>
        </p>
        {% endif %}

        <h2><span class="active-text">Active</span> Promo Codes</h2>
        <ul>
            {% for promo_code in active_promo_codes %}
            <li>
                <h4>{{ promo_code.code }} - {{ promo_code.discount }}%</h4>
                <h5>Expiration Date: {{ promo_code.expiration_date }}</h5>
                {% if user.is_superuser %}
                <p>
                    <a href="edit_promo_code/{{ promo_code.id }}" class="edit-button">Edit</a>
                    <a href="delete_promo_code/{{ promo_code.id }}" class="delete-button" onclick="return confirm('Are you sure you want to delete this promo code?');">Delete</a>
                </p>
                {% endif %}
            </li>
            {% endfor %}
        </ul>

        <h2><span class="expired-text">Expired</span> Promo Codes</h2>
        <ul>
            {% for promo_code in expired_promo_codes %}
            <li>
                <h4>{{ promo_code.code }} - {{ promo_code.discount }}%</h4>
                <h5>Expiration Date: {{ promo_code.expiration_date }}</h5>
                {% if user.is_superuser %}
                <p>
                    <a href="edit_promo_code/{{ promo_code.id }}" class="edit-button">Edit</a>
                    <a href="delete_promo_code/{{ promo_code.id }}" class="delete-button" onclick="return confirm('Are you sure you want to delete this promo code?');">Delete</a>
                </p>
                {% endif %}
            </li>
            {% endfor %}
        </ul>
    </div>
</body>
{% endblock %}