{% extends "app/layout.html" %}

{% block content %}
{% load static %}

<head>
    <link rel="stylesheet" href="{% static 'app/content/news.css' %}">
</head>

<body>
    <div class="container-box">
        <h1>{{ title }}</h1>

        {% if user.is_superuser %}
        <a href="{% url 'create_article' %}" class="positive-button">
            Add News
        </a>
        {% endif %}

        <div class="article-list">
            {% for article in articles %}
            <div class="article-card">
                {% if article.image %}
                <div class="image-container">
                    <img src="{{ article.image.url }}" alt="{{ article.title }}">
                </div>
                {% endif %}
                <div class="content-container">
                    <h3>{{ article.title }}</h3>
                    <p class="short-description">{{ article.short_description }}</p>
                    <p class="published-at">Published: {{ article.published_at|date:"d/m/Y H:i:s" }}</p>
                    <a href="article_detail/{{ article.id }}" class="btn-read">Read More</a>
                    {% if user.is_superuser %}
                    <a href="editArticle/{{ article.id }}" class="btn-edit">Edit</a>
                    <a href="deleteArticle/{{ article.id }}" class="btn-delete" onclick="return confirm('Are you sure you want to delete this article?');">Delete</a>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</body>
{% endblock %}